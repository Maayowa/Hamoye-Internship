ScreenManager:
    WelcomePage:
    CamStream:     

<WelcomePage>
    name: "welcome"

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "bcg1.jpg"

    MDFloatLayout:

        MDIconButton:
            icon: "camera.png"
            user_font_size: 148
            pos_hint: {'center_x': .5, 'center_y': .5}
            on_release:
                app.root.current = 'main'
                root.manager.transition.direction = 'left' 
                root.dostart()

        MDFillRoundFlatButton:
            text: "Exit"
            size_hint_x: .8
            pos_hint: {'center_x': .5, 'center_y': .1}
            on_press: app.stop()

<CamStream>:
    name: 'main' 
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "bcg2.jpg"

    MDBoxLayout:
        orientation: "vertical"
        spacing: 10
        

        KivyCamera:
            id: strcam

        MDFillRoundFlatButton:
            text: "Home"
            size_hint_x: 1.0
            pos_hint: {'center_x': .5, 'center_y': .5} 
            on_release: 
                root.ids.strcam.stop()
                app.root.current = 'welcome'
                root.manager.transition.direction = 'right'
                

        MDFillRoundFlatButton:
            text: 'SHOW ME'
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint: (1, None)
            on_press: 
                root.parse_tts()
                

            

